<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="khacviet.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Briem+Hand:wght@100..900&family=Satisfy&display=swap" rel="stylesheet">
    <script>
        //Thanh nghe nhac
let isLooping = false;
let currentSongIndex = 0;

const songs = [
    { src: 'KV-AnhKhacHayEmKhac.mp3', title: 'Anh khác hay em khác' },
    { src: 'KV-ChuyenTinhMinh.mp3', title: 'Chuyện tình mình' },
    { src: 'KV-DenKhiNao.mp3', title: 'Đến khi nào' },
    { src: 'KV-NhuVayNhe.mp3', title: 'Như vậy nhé' },
    { src: 'KV-Quen.mp3', title: 'Quên' }  
    
];

// Chức năng tìm kiếm
function searchSongs() {
    const query = document.getElementById('searchInput').value.toLowerCase();
    const resultsDiv = document.getElementById('results');
    resultsDiv.innerHTML = '';
    if(query.trim().length===0) return;
    const filteredSongs = songs.filter(song => song.title.toLowerCase().includes(query));

    filteredSongs.forEach(song => {
        const songDiv = document.createElement('div');
        songDiv.classList.add('song');
        songDiv.textContent = song.title;
        songDiv.onclick = () => playSong(song.src,song.title,0);
        resultsDiv.appendChild(songDiv);
    });
}
function playSong(songSrc, songTitle, index) {
    currentSongIndex = index;
    let audioPlayer = document.getElementById('audioPlayer');
    let audioSource = document.getElementById('audioSource');
    let songTitleElement = document.getElementById('songTitle');

    audioSource.src = songSrc;
    songTitleElement.textContent = songTitle;
    audioPlayer.load();
    audioPlayer.play();

    let musicPlayer = document.getElementById('musicPlayer');
    musicPlayer.classList.add('show'); // Hiển thị thanh nghe nhạc
}

function toggleLoop() {
    let audioPlayer = document.getElementById('audioPlayer');
    let loopButton = document.getElementById('loopButton');
    
    isLooping = !isLooping;
    audioPlayer.loop = isLooping;
    
    if (isLooping) {
        loopButton.classList.add('active');
        loopButton.textContent = 'Lặp lại: Bật';
    } else {
        loopButton.classList.remove('active');
        loopButton.textContent = 'Lặp lại: Tắt';
    }
}

function prevSong() {
    currentSongIndex = (currentSongIndex - 1 + songs.length)  % songs.length;
    playSong(songs[currentSongIndex].src, songs[currentSongIndex].title, currentSongIndex);
}

function nextSong() {
    currentSongIndex = (currentSongIndex + 1) % songs.length;
    playSong(songs[currentSongIndex].src, songs[currentSongIndex].title, currentSongIndex);
}

    </script>
</head>
<body>
    <header>
        <div class="MenuTrai">
            <a href="../../index.html" class="abc"><i class='bx bx-home-alt'style=></i>Home</a>
            <a href="../casi.html" class="abc"><i class='bx bx-radio'></i></i>Singer</a>
        </div>
    </header>
    <main>
        <div class="NoiDung">
            <div class="nd">
                <div class="ndhinh">
                    <img src="../CS KhacViet/tieu-su-nhac-si-ca-si-khac-viet-2294.jpg" alt="" class="hinh">
                </div>
                <div class="music">
                    <div class="trendleft">
                        <div class="st1">
                            <b style="color:white;margin-left: 23px;margin-top: 15px;">1</b>
                            <img src="../CS KhacViet/tieu-su-nhac-si-ca-si-khac-viet-2294.jpg" class="image_music_2">
                            <a  class="tenbaihat2" onclick="playSong('KV-AnhKhacHayEmKhac.mp3','Anh khác hay em khác',0)">Anh khác hay em khác</a>
                        </div>
    
                        <div class="st1">
                            <b style="color:white;margin-left: 20px;margin-top: 15px;">2</b>
                            <img src="../CS KhacViet/tieu-su-nhac-si-ca-si-khac-viet-2294.jpg" class="image_music_2">
                            <a class="tenbaihat2" onclick="playSong('KV-ChuyenTinhMinh.mp3','Chuyên tinh mình',1)">Chuyên tinh mình</a>
                        </div>
    
                        <div class="st1">
                            <b style="color:white;margin-left: 20px;margin-top: 15px;">3</b>
                            <img src="../CS KhacViet/tieu-su-nhac-si-ca-si-khac-viet-2294.jpg" class="image_music_2">
                            <a  class="tenbaihat2" onclick="playSong('KV-DenKhiNao.mp3','Đến khi nào',2)">Đến khi nào</a>
                        </div>
    
                        <div class="st1">
                            <b style="color:white;margin-left: 20px;margin-top: 15px;">4</b>
                            <img src="../CS KhacViet/tieu-su-nhac-si-ca-si-khac-viet-2294.jpg" class="image_music_2">
                            <a class="tenbaihat2" onclick="playSong('KV-NhuVayNhe.mp3','Như vậy nhé',3)"> Như vậy nhé</a>
                        </div>
    
                        <div class="st1">
                            <b style="color:white;margin-left: 20px;margin-top: 15px;">5</b>
                            <img src="../CS KhacViet/tieu-su-nhac-si-ca-si-khac-viet-2294.jpg" class="image_music_2">
                            <a  class="tenbaihat2" onclick="playSong('KV-Quen.mp3','Quên',4)">Quên</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <div class="music-player" id="musicPlayer">
        <div class="music-info">
            <span id="songTitle">Chọn một bài hát</span>
        </div>
        <div class="controls">
            <button id="prevButton" onclick="prevSong()">&#9664; Bài trước</button>
            <audio id="audioPlayer" controls>
                <source id="audioSource" src="" type="audio/mp3">
                Trình duyệt của bạn không hỗ trợ phát nhạc.
            </audio>
            <button id="nextButton" onclick="nextSong()">Bài tiếp &#9654;</button>
        </div>
        <button id="loopButton" onclick="toggleLoop()">Lặp lại</button>
    </div>
</body>
</html>